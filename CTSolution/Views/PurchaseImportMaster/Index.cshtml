@model IEnumerable<CTSolution.Models.PurchaseImportMaster>

<h5>ပြည်ပတင်သွင်းအခွန်စာရင်း</h5>
<br /><br />
<p>
    <a asp-action="Create">စာရင်းသွင်းရန်</a>
</p>

<table class="table">
    <thead>
        <tr>
           
            
            <th>
                @Html.DisplayNameFor(model => model.ImporterPkid)
            </th>

            <th>
                @Html.DisplayNameFor(model => model.TIN_Number)
            </th>

            <th>
                @Html.DisplayNameFor(model => model.CommercialLicense)
            </th>

            <th>
                @Html.DisplayNameFor(model => model.DeclarationFormNo)
            </th>

           


            <th>
                @Html.DisplayNameFor(model => model.DeclarationFormDate)
            </th>
            
            <th>
                @Html.DisplayNameFor(model => model.TaxOffice)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.TaxOfficer)
            </th>

            <th>
                @Html.DisplayNameFor(model => model.TaxAmt)
            </th>

           
            
            <th>
                @Html.DisplayNameFor(model => model.PaidAmt)
            </th>

           

            <th>
                @Html.DisplayNameFor(model => model.BalanceAmt)
            </th>

            

            <th>
                @Html.DisplayNameFor(model => model.Note)
            </th>
            
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                
                
                <td>
                    @Html.DisplayFor(modelItem => item.PersonName)
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.TIN_Number)
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.CommercialLicense)
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.DeclarationFormNo)
                </td>
                <td>
                    @item.DeclarationFormDate.ToString("dd-MM-yyyy")
                </td>
                
                <td>
                    @Html.DisplayFor(modelItem => item.TaxOffice)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TaxOfficer)
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.TaxAmt)
                </td>

                <td>
                    @{
                        decimal formattedPaidAmt = item.PaidAmt.HasValue?item.PaidAmt.Value:0;
                        
                    }
                    @formattedPaidAmt
                </td>

                <td>
                    @{
                        decimal formattedBalanceAmt = item.BalanceAmt.HasValue ? item.BalanceAmt.Value : (item.TaxAmt - formattedPaidAmt);

                    }
                    @formattedBalanceAmt
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.Note)
                </td>

                <td>

                    <a href="@Url.Action("Edit", "PurchaseImportMaster", new { id = item.PurchaseImportPkid })" class="btn btn-warning btn-sm"> <i class="fas fa-edit"></i> Edit</a>
                    <a href="@Url.Action("Delete", "PurchaseImportMaster", new { id = item.PurchaseImportPkid })" class="btn btn-danger btn-sm"><i class="fas fa-trash"></i> Delete</a>
                    <a href="@Url.Action("Details", "PurchaseImportMaster", new { id = item.PurchaseImportPkid })" class="btn btn-info btn-sm"><i class="fas fa-info-circle"></i>Detail</a>
                    <a href="@Url.Action("Create", "PurchaseTransaction", new { id = item.PurchaseImportPkid, transactionID = item.TransactionID, transactionDate = item.TransactionDate, taxOffice = item.TaxOffice, taxofficer = item.TaxOfficer,taxAmt = item.TaxAmt })" class="btn btn-success  btn-sm"><i class="fa-solid fa-money-check"></i>Pay</a>
                </td>
            </tr>
        }
    </tbody>
</table>
